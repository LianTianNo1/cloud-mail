import{_ as le,a as W,u as J,y as M,o as x,z as K,r as ae,aJ as et,aK as Ct,g as $,G as Nt,w as ke,aL as tt,b as nt,k as Q,s as _,aM as kt,e as R,c as z,n as P,t as B,h as G,aN as bt,au as Et,P as Z,v as ot,aO as at,i as Me,B as st,aP as wt,aQ as $e,aw as me,aR as Be,a2 as ye,O as Ce,K as lt,aS as Dt,aT as Kt,aU as Je,a4 as Ne,at as se,ac as Ge,aF as ue,aV as Se,aW as Tt,a7 as X,A as Ae,C as Oe,f as I,N as y,D as F,F as Re,a5 as ze,aX as St,E as _t,a3 as U,aY as xt,aD as dt,x as It,I as Y,p as $t,d as ge,as as Bt,S as At,X as Ot,Y as Lt,a0 as ie}from"./index-CrVLGAV5.js";import{E as Pt}from"./el-dialog-Dc-uwvKn.js";/* empty css                       */import{E as Mt}from"./el-checkbox-1PyqgUYo.js";/* empty css                        *//* empty css                 */import{E as Rt}from"./el-input-number-C6IFAgXf.js";import{u as j,a as _e,b as zt,E as Ht}from"./el-popper-CxTMhn_i.js";import{s as Vt,E as Ft,a as Ut}from"./el-select-C7rgYuUX.js";import{E as qt}from"./el-scrollbar-C5dRdj6E.js";import{E as jt,a as Wt,b as Yt}from"./el-radio-group-D3BgMgF3.js";/* empty css                 */import{E as Jt}from"./el-input-tag-RNQXVchK.js";import{E as Gt,a as Xt}from"./el-table-column-C1-20CeS.js";/* empty css                  */import{d as xe,b as Qt,E as Zt,a as en}from"./el-dropdown-item-PNbSi3m1.js";import{I as Ie}from"./iconify-DfAVPzXa.js";import{u as tn,a as nn,b as on,c as an,d as sn,e as ln,f as dn}from"./role-qIGTCH-R.js";import{l as rn}from"./index-wlxkN86N.js";import{i as cn,a as un}from"./verify-utils-D6Av2NDy.js";import{_ as hn}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as fn}from"./index-Bi5OiBjY.js";import{E as pn}from"./vnode-DMmxwG2F.js";import{a as mn,f as gn}from"./index-B5LOEhaN.js";import{E as vn}from"./index-BqKRmYx7.js";import"./event-BB_Ol6Sd.js";import"./index-xJ5jWlCl.js";import"./index-BwIXkj3G.js";import"./index-DXUHX4PR.js";const yn=W({name:"ElCollapseTransition"}),Cn=W({...yn,setup(n){const e=J("collapse-transition"),o=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},a={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){o(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){o(t)},leaveCancelled(t){o(t)}};return(t,s)=>(x(),M(Nt,et({name:$(e).b()},Ct(a)),{default:K(()=>[ae(t.$slots,"default")]),_:3},16,["name"]))}});var Nn=le(Cn,[["__file","collapse-transition.vue"]]);const kn=ke(Nn),bn=nt({trigger:_e.trigger,triggerKeys:_e.triggerKeys,placement:xe.placement,disabled:_e.disabled,visible:j.visible,transition:j.transition,popperOptions:xe.popperOptions,tabindex:xe.tabindex,content:j.content,popperStyle:j.popperStyle,popperClass:j.popperClass,enterable:{...j.enterable,default:!0},effect:{...j.effect,default:"light"},teleported:j.teleported,appendTo:j.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),En={"update:visible":n=>tt(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},wn="onUpdate:visible",Dn=W({name:"ElPopover"}),Kn=W({...Dn,props:bn,emits:En,setup(n,{expose:e,emit:o}){const a=n,t=Q(()=>a[wn]),s=J("popover"),l=_(),h=Q(()=>{var u;return(u=$(l))==null?void 0:u.popperRef}),f=Q(()=>[{width:kt(a.width)},a.popperStyle]),m=Q(()=>[s.b(),a.popperClass,{[s.m("plain")]:!!a.content}]),d=Q(()=>a.transition===`${s.namespace.value}-fade-in-linear`),k=()=>{var u;(u=l.value)==null||u.hide()},v=()=>{o("before-enter")},b=()=>{o("before-leave")},C=()=>{o("after-enter")},N=()=>{o("update:visible",!1),o("after-leave")};return e({popperRef:h,hide:k}),(u,T)=>(x(),M($(zt),et({ref_key:"tooltipRef",ref:l},u.$attrs,{trigger:u.trigger,"trigger-keys":u.triggerKeys,placement:u.placement,disabled:u.disabled,visible:u.visible,transition:u.transition,"popper-options":u.popperOptions,tabindex:u.tabindex,content:u.content,offset:u.offset,"show-after":u.showAfter,"hide-after":u.hideAfter,"auto-close":u.autoClose,"show-arrow":u.showArrow,"aria-label":u.title,effect:u.effect,enterable:u.enterable,"popper-class":$(m),"popper-style":$(f),teleported:u.teleported,"append-to":u.appendTo,persistent:u.persistent,"gpu-acceleration":$(d),"onUpdate:visible":$(t),onBeforeShow:v,onBeforeHide:b,onShow:C,onHide:N}),{content:K(()=>[u.title?(x(),z("div",{key:0,class:P($(s).e("title")),role:"title"},B(u.title),3)):R("v-if",!0),ae(u.$slots,"default",{},()=>[G(B(u.content),1)])]),default:K(()=>[u.$slots.reference?ae(u.$slots,"reference",{key:0}):R("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});var Tn=le(Kn,[["__file","popover.vue"]]);const Xe=(n,e)=>{const o=e.arg||e.value,a=o?.popperRef;a&&(a.triggerRef=n)};var Sn={mounted(n,e){Xe(n,e)},updated(n,e){Xe(n,e)}};const _n="popover",xn=bt(Sn,_n),In=ke(Tn,{directive:xn}),$n=nt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Et,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Bn=W({name:"ElText"}),An=W({...Bn,props:$n,setup(n){const e=n,o=_(),a=mn(),t=J("text"),s=Q(()=>[t.b(),t.m(e.type),t.m(a.value),t.is("truncated",e.truncated),t.is("line-clamp",!Z(e.lineClamp))]),l=()=>{var h,f,m,d,k,v,b;if(wt().title)return;let N=!1;const u=((h=o.value)==null?void 0:h.textContent)||"";if(e.truncated){const T=(f=o.value)==null?void 0:f.offsetWidth,i=(m=o.value)==null?void 0:m.scrollWidth;T&&i&&i>T&&(N=!0)}else if(!Z(e.lineClamp)){const T=(d=o.value)==null?void 0:d.offsetHeight,i=(k=o.value)==null?void 0:k.scrollHeight;T&&i&&i>T&&(N=!0)}N?(v=o.value)==null||v.setAttribute("title",u):(b=o.value)==null||b.removeAttribute("title")};return ot(l),at(l),(h,f)=>(x(),M(st(h.tag),{ref_key:"textRef",ref:o,class:P($(s)),style:Me({"-webkit-line-clamp":h.lineClamp})},{default:K(()=>[ae(h.$slots,"default")]),_:3},8,["class","style"]))}});var On=le(An,[["__file","text.vue"]]);const Ln=ke(On),oe="$treeNodeId",Qe=function(n,e){!e||e[oe]||Object.defineProperty(e,oe,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},He=(n,e)=>e?.[n||oe],Le=(n,e,o)=>{const a=n.value.currentNode;o();const t=n.value.currentNode;a!==t&&e("current-change",t?t.data:null,t)},Pe=n=>{let e=!0,o=!0,a=!0;for(let t=0,s=n.length;t<s;t++){const l=n[t];(l.checked!==!0||l.indeterminate)&&(e=!1,l.disabled||(a=!1)),(l.checked!==!1||l.indeterminate)&&(o=!1)}return{all:e,none:o,allWithoutDisable:a,half:!e&&!o}},ce=function(n){if(n.childNodes.length===0||n.loading)return;const{all:e,none:o,half:a}=Pe(n.childNodes);e?(n.checked=!0,n.indeterminate=!1):a?(n.checked=!1,n.indeterminate=!0):o&&(n.checked=!1,n.indeterminate=!1);const t=n.parent;!t||t.level===0||n.store.checkStrictly||ce(t)},ve=function(n,e){const o=n.store.props,a=n.data||{},t=o[e];if(Ce(t))return t(a,n);if(lt(t))return a[t];if(Z(t)){const s=a[e];return Z(s)?"":s}};let Pn=0;class ee{constructor(e){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=Pn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const o in e)$e(e,o)&&(this[o]=e[o]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var e;const o=this.store;if(!o)throw new Error("[Node]store is required!");o.registerNode(this);const a=o.props;if(a&&typeof a.isLeaf<"u"){const l=ve(this,"isLeaf");tt(l)&&(this.isLeafByUser=l)}if(o.lazy!==!0&&this.data?(this.setData(this.data),o.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&o.lazy&&o.defaultExpandAll&&!this.isLeafByUser&&this.expand(),me(this.data)||Qe(this,this.data),!this.data)return;const t=o.defaultExpandedKeys,s=o.key;s&&!Be(this.key)&&t&&t.includes(this.key)&&this.expand(null,o.autoExpandParent),s&&o.currentNodeKey!==void 0&&this.key===o.currentNodeKey&&(o.currentNode=this,o.currentNode.isCurrent=!0),o.lazy&&o._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((e=this.parent)==null?void 0:e.expanded)===!0)&&(this.canFocus=!0)}setData(e){me(e)||Qe(this,e),this.data=e,this.childNodes=[];let o;this.level===0&&me(this.data)?o=this.data:o=ve(this,"children")||[];for(let a=0,t=o.length;a<t;a++)this.insertChild({data:o[a]})}get label(){return ve(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return ve(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const o=e.childNodes.indexOf(this);if(o>-1)return e.childNodes[o+1]}return null}get previousSibling(){const e=this.parent;if(e){const o=e.childNodes.indexOf(this);if(o>-1)return o>0?e.childNodes[o-1]:null}return null}contains(e,o=!0){return(this.childNodes||[]).some(a=>a===e||o&&a.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,o,a){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof ee)){if(!a){const t=this.getChildren(!0);t?.includes(e.data)||(Z(o)||o<0?t?.push(e.data):t?.splice(o,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=ye(new ee(e)),e instanceof ee&&e.initialize()}e.level=this.level+1,Z(o)||o<0?this.childNodes.push(e):this.childNodes.splice(o,0,e),this.updateLeafState()}insertBefore(e,o){let a;o&&(a=this.childNodes.indexOf(o)),this.insertChild(e,a)}insertAfter(e,o){let a;o&&(a=this.childNodes.indexOf(o),a!==-1&&(a+=1)),this.insertChild(e,a)}removeChild(e){const o=this.getChildren()||[],a=o.indexOf(e.data);a>-1&&o.splice(a,1);const t=this.childNodes.indexOf(e);t>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(e){let o=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===e){o=this.childNodes[a];break}o&&this.removeChild(o)}expand(e,o){const a=()=>{if(o){let t=this.parent;for(;t&&t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(t=>{t.canFocus=!0})};this.shouldLoadData()?this.loadData(t=>{me(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||ce(this),a())}):a()}doCreateChildren(e,o={}){e.forEach(a=>{this.insertChild(Object.assign({data:a},o),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,o,a,t){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:h}=Pe(this.childNodes);!this.isLeaf&&!l&&h&&(this.checked=!1,e=!1);const f=()=>{if(o){const m=this.childNodes;for(let v=0,b=m.length;v<b;v++){const C=m[v];t=t||e!==!1;const N=C.disabled?C.checked:t;C.setChecked(N,o,!0,t)}const{half:d,all:k}=Pe(m);k||(this.checked=k,this.indeterminate=d)}};if(this.shouldLoadData()){this.loadData(()=>{f(),ce(this)},{checked:e!==!1});return}else f()}const s=this.parent;!s||s.level===0||a||ce(s)}getChildren(e=!1){if(this.level===0)return this.data;const o=this.data;if(!o)return null;const a=this.store.props;let t="children";return a&&(t=a.children||"children"),Z(o[t])&&(o[t]=null),e&&!o[t]&&(o[t]=[]),o[t]}updateChildren(){const e=this.getChildren()||[],o=this.childNodes.map(s=>s.data),a={},t=[];e.forEach((s,l)=>{const h=s[oe];!!h&&o.findIndex(m=>m?.[oe]===h)>=0?a[h]={index:l,data:s}:t.push({index:l,data:s})}),this.store.lazy||o.forEach(s=>{a[s?.[oe]]||this.removeChildByData(s)}),t.forEach(({index:s,data:l})=>{this.insertChild({data:l},s)}),this.updateLeafState()}loadData(e,o={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(o).length)){this.loading=!0;const a=s=>{this.childNodes=[],this.doCreateChildren(s,o),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,s)},t=()=>{this.loading=!1};this.store.load(this,a,t)}else e&&e.call(this)}eachNode(e){const o=[this];for(;o.length;){const a=o.shift();o.unshift(...a.childNodes),e(a)}}reInitChecked(){this.store.checkStrictly||ce(this)}}class Mn{constructor(e){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const o in e)$e(e,o)&&(this[o]=e[o]);this.nodesMap={}}initialize(){if(this.root=new ee({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,o=>{this.root.doCreateChildren(o),this._initDefaultCheckedNodes()},Dt)}else this._initDefaultCheckedNodes()}filter(e){const o=this.filterNodeMethod,a=this.lazy,t=async function(s){const l=s.root?s.root.childNodes:s.childNodes;for(const[h,f]of l.entries())f.visible=!!o?.call(f,e,f.data,f),h%80===0&&h>0&&await Ne(),await t(f);if(!s.visible&&l.length){let h=!0;h=!l.some(f=>f.visible),s.root?s.root.visible=h===!1:s.visible=h===!1}e&&s.visible&&!s.isLeaf&&(!a||s.loaded)&&s.expand()};t(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof ee)return e;const o=Kt(e)?He(this.key,e):e;return this.nodesMap[o]||null}insertBefore(e,o){var a;const t=this.getNode(o);(a=t.parent)==null||a.insertBefore({data:e},t)}insertAfter(e,o){var a;const t=this.getNode(o);(a=t.parent)==null||a.insertAfter({data:e},t)}remove(e){const o=this.getNode(e);o&&o.parent&&(o===this.currentNode&&(this.currentNode=null),o.parent.removeChild(o))}append(e,o){const a=Je(o)?this.root:this.getNode(o);a&&a.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],o=this.nodesMap;e.forEach(a=>{const t=o[a];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){const o=this.defaultCheckedKeys||[];!Be(e.key)&&o.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const o=this.key;if(!(!e||!e.data))if(!o)this.nodesMap[e.id]=e;else{const a=e.key;Be(a)||(this.nodesMap[a]=e)}}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(a=>{this.deregisterNode(a)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,o=!1){const a=[],t=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(h=>{(h.checked||o&&h.indeterminate)&&(!e||e&&h.isLeaf)&&a.push(h.data),t(h)})};return t(this),a}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(o=>(o||{})[this.key])}getHalfCheckedNodes(){const e=[],o=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(s=>{s.indeterminate&&e.push(s.data),o(s)})};return o(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],o=this.nodesMap;for(const a in o)$e(o,a)&&e.push(o[a]);return e}updateChildren(e,o){const a=this.nodesMap[e];if(!a)return;const t=a.childNodes;for(let s=t.length-1;s>=0;s--){const l=t[s];this.remove(l.data)}for(let s=0,l=o.length;s<l;s++){const h=o[s];this.append(h,a.data)}}_setCheckedKeys(e,o=!1,a){const t=this._getAllNodes().sort((f,m)=>f.level-m.level),s=Object.create(null),l=Object.keys(a);t.forEach(f=>f.setChecked(!1,!1));const h=f=>{f.childNodes.forEach(m=>{var d;s[m.data[e]]=!0,(d=m.childNodes)!=null&&d.length&&h(m)})};for(let f=0,m=t.length;f<m;f++){const d=t[f],k=d.data[e].toString();if(!l.includes(k)){d.checked&&!s[k]&&d.setChecked(!1,!1);continue}if(d.childNodes.length&&h(d),d.isLeaf||this.checkStrictly){d.setChecked(!0,!1);continue}if(d.setChecked(!0,!0),o){d.setChecked(!1,!1);const b=function(C){C.childNodes.forEach(u=>{u.isLeaf||u.setChecked(!1,!1),b(u)})};b(d)}}}setCheckedNodes(e,o=!1){const a=this.key,t={};e.forEach(s=>{t[(s||{})[a]]=!0}),this._setCheckedKeys(a,o,t)}setCheckedKeys(e,o=!1){this.defaultCheckedKeys=e;const a=this.key,t={};e.forEach(s=>{t[s]=!0}),this._setCheckedKeys(a,o,t)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(o=>{const a=this.getNode(o);a&&a.expand(null,this.autoExpandParent)})}setChecked(e,o,a){const t=this.getNode(e);t&&t.setChecked(!!o,a)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const o=this.currentNode;o&&(o.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,o=!0){var a;const t=e[this.key],s=this.nodesMap[t];this.setCurrentNode(s),o&&this.currentNode&&this.currentNode.level>1&&((a=this.currentNode.parent)==null||a.expand(null,!0))}setCurrentNodeKey(e,o=!0){var a;if(this.currentNodeKey=e,Je(e)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const t=this.getNode(e);t&&(this.setCurrentNode(t),o&&this.currentNode&&this.currentNode.level>1&&((a=this.currentNode.parent)==null||a.expand(null,!0)))}}const Ve="RootTree",rt="NodeInstance",Ze="TreeNodeMap",Rn=W({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=J("tree"),o=se(rt),a=se(Ve);return()=>{const t=n.node,{data:s,store:l}=t;return n.renderContent?n.renderContent(Ge,{_self:o,node:t,data:s,store:l}):ae(a.ctx.slots,"default",{node:t,data:s},()=>[Ge(Ln,{tag:"span",truncated:!0,class:e.be("node","label")},()=>[t.label])])}}});var zn=le(Rn,[["__file","tree-node-content.vue"]]);function it(n){const e=se(Ze,null),o={treeNodeExpand:a=>{var t;n.node!==a&&((t=n.node)==null||t.collapse())},children:[]};return e&&e.children.push(o),ue(Ze,o),{broadcastExpanded:a=>{if(n.accordion)for(const t of o.children)t.treeNodeExpand(a)}}}const ct=Symbol("dragEvents");function Hn({props:n,ctx:e,el$:o,dropIndicator$:a,store:t}){const s=J("tree"),l=_({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ue(ct,{treeNodeDragStart:({event:d,treeNode:k})=>{if(d.dataTransfer){if(Ce(n.allowDrag)&&!n.allowDrag(k.node))return d.preventDefault(),!1;d.dataTransfer.effectAllowed="move";try{d.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=k,e.emit("node-drag-start",k.node,d)}},treeNodeDragOver:({event:d,treeNode:k})=>{if(!d.dataTransfer)return;const v=k,b=l.value.dropNode;b&&b.node.id!==v.node.id&&Se(b.$el,s.is("drop-inner"));const C=l.value.draggingNode;if(!C||!v)return;let N=!0,u=!0,T=!0,i=!0;Ce(n.allowDrop)&&(N=n.allowDrop(C.node,v.node,"prev"),i=u=n.allowDrop(C.node,v.node,"inner"),T=n.allowDrop(C.node,v.node,"next")),d.dataTransfer.dropEffect=u||N||T?"move":"none",(N||u||T)&&b?.node.id!==v.node.id&&(b&&e.emit("node-drag-leave",C.node,b.node,d),e.emit("node-drag-enter",C.node,v.node,d)),N||u||T?l.value.dropNode=v:l.value.dropNode=null,v.node.nextSibling===C.node&&(T=!1),v.node.previousSibling===C.node&&(N=!1),v.node.contains(C.node,!1)&&(u=!1),(C.node===v.node||C.node.contains(v.node))&&(N=!1,u=!1,T=!1);const L=v.$el,H=L.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),q=o.value.getBoundingClientRect();let O;const te=N?u?.25:T?.45:1:-1,ne=T?u?.75:N?.55:0:1;let g=-9999;const E=d.clientY-H.top;E<H.height*te?O="before":E>H.height*ne?O="after":u?O="inner":O="none";const A=L.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),V=a.value;O==="before"?g=A.top-q.top:O==="after"&&(g=A.bottom-q.top),V.style.top=`${g}px`,V.style.left=`${A.right-q.left}px`,O==="inner"?Tt(L,s.is("drop-inner")):Se(L,s.is("drop-inner")),l.value.showDropIndicator=O==="before"||O==="after",l.value.allowDrop=l.value.showDropIndicator||i,l.value.dropType=O,e.emit("node-drag-over",C.node,v.node,d)},treeNodeDragEnd:d=>{var k,v;const{draggingNode:b,dropType:C,dropNode:N}=l.value;if(d.preventDefault(),d.dataTransfer&&(d.dataTransfer.dropEffect="move"),b?.node.data&&N){const u={data:b.node.data};C!=="none"&&b.node.remove(),C==="before"?(k=N.node.parent)==null||k.insertBefore(u,N.node):C==="after"?(v=N.node.parent)==null||v.insertAfter(u,N.node):C==="inner"&&N.node.insertChild(u),C!=="none"&&(t.value.registerNode(u),t.value.key&&b.node.eachNode(T=>{var i;(i=t.value.nodesMap[T.data[t.value.key]])==null||i.setChecked(T.checked,!t.value.checkStrictly)})),Se(N.$el,s.is("drop-inner")),e.emit("node-drag-end",b.node,N.node,C,d),C!=="none"&&e.emit("node-drop",b.node,N.node,C,d)}b&&!N&&e.emit("node-drag-end",b.node,null,C,d),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const Vn=W({name:"ElTreeNode",components:{ElCollapseTransition:kn,ElCheckbox:Mt,NodeContent:zn,ElIcon:_t,Loading:St},props:{node:{type:ee,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(n,e){const o=J("tree"),{broadcastExpanded:a}=it(n),t=se(Ve),s=_(!1),l=_(!1),h=_(),f=_(),m=_(),d=se(ct),k=dt();ue(rt,k),n.node.expanded&&(s.value=!0,l.value=!0);const v=t.props.props.children||"children";U(()=>{var g;const E=(g=n.node.data)==null?void 0:g[v];return E&&[...E]},()=>{n.node.updateChildren()}),U(()=>n.node.indeterminate,g=>{N(n.node.checked,g)}),U(()=>n.node.checked,g=>{N(g,n.node.indeterminate)}),U(()=>n.node.childNodes.length,()=>n.node.reInitChecked()),U(()=>n.node.expanded,g=>{Ne(()=>s.value=g),g&&(l.value=!0)});const b=g=>He(t.props.nodeKey,g.data),C=g=>{const E=n.props.class;if(!E)return{};let A;if(Ce(E)){const{data:V}=g;A=E(V,g)}else A=E;return lt(A)?{[A]:!0}:A},N=(g,E)=>{(h.value!==g||f.value!==E)&&t.ctx.emit("check-change",n.node.data,g,E),h.value=g,f.value=E},u=g=>{Le(t.store,t.ctx.emit,()=>{var E;if((E=t?.props)==null?void 0:E.nodeKey){const V=b(n.node);t.store.value.setCurrentNodeKey(V)}else t.store.value.setCurrentNode(n.node)}),t.currentNode.value=n.node,t.props.expandOnClickNode&&i(),(t.props.checkOnClickNode||n.node.isLeaf&&t.props.checkOnClickLeaf&&n.showCheckbox)&&!n.node.disabled&&L(!n.node.checked),t.ctx.emit("node-click",n.node.data,n.node,k,g)},T=g=>{var E;(E=t.instance.vnode.props)!=null&&E.onNodeContextmenu&&(g.stopPropagation(),g.preventDefault()),t.ctx.emit("node-contextmenu",g,n.node.data,n.node,k)},i=()=>{n.node.isLeaf||(s.value?(t.ctx.emit("node-collapse",n.node.data,n.node,k),n.node.collapse()):n.node.expand(()=>{e.emit("node-expand",n.node.data,n.node,k)}))},L=g=>{n.node.setChecked(g,!t?.props.checkStrictly),Ne(()=>{const E=t.store.value;t.ctx.emit("check",n.node.data,{checkedNodes:E.getCheckedNodes(),checkedKeys:E.getCheckedKeys(),halfCheckedNodes:E.getHalfCheckedNodes(),halfCheckedKeys:E.getHalfCheckedKeys()})})};return{ns:o,node$:m,tree:t,expanded:s,childNodeRendered:l,oldChecked:h,oldIndeterminate:f,getNodeKey:b,getNodeClass:C,handleSelectChange:N,handleClick:u,handleContextMenu:T,handleExpandIconClick:i,handleCheckChange:L,handleChildNodeExpand:(g,E,A)=>{a(E),t.ctx.emit("node-expand",g,E,A)},handleDragStart:g=>{t.props.draggable&&d.treeNodeDragStart({event:g,treeNode:n})},handleDragOver:g=>{g.preventDefault(),t.props.draggable&&d.treeNodeDragOver({event:g,treeNode:{$el:m.value,node:n.node}})},handleDrop:g=>{g.preventDefault()},handleDragEnd:g=>{t.props.draggable&&d.treeNodeDragEnd(g)},CaretRight:xt}}});function Fn(n,e,o,a,t,s){const l=X("el-icon"),h=X("el-checkbox"),f=X("loading"),m=X("node-content"),d=X("el-tree-node"),k=X("el-collapse-transition");return Ae((x(),z("div",{ref:"node$",class:P([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:F(n.handleClick,["stop"]),onContextmenu:n.handleContextMenu,onDragstart:F(n.handleDragStart,["stop"]),onDragover:F(n.handleDragOver,["stop"]),onDragend:F(n.handleDragEnd,["stop"]),onDrop:F(n.handleDrop,["stop"])},[I("div",{class:P(n.ns.be("node","content")),style:Me({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(x(),M(l,{key:0,class:P([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:F(n.handleExpandIconClick,["stop"])},{default:K(()=>[(x(),M(st(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):R("v-if",!0),n.showCheckbox?(x(),M(h,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:F(()=>{},["stop"]),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):R("v-if",!0),n.node.loading?(x(),M(l,{key:2,class:P([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:K(()=>[y(f)]),_:1},8,["class"])):R("v-if",!0),y(m,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),y(k,null,{default:K(()=>[!n.renderAfterExpand||n.childNodeRendered?Ae((x(),z("div",{key:0,class:P(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded,onClick:F(()=>{},["stop"])},[(x(!0),z(Re,null,ze(n.node.childNodes,v=>(x(),M(d,{key:n.getNodeKey(v),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:v,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[Oe,n.expanded]]):R("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Oe,n.node.visible]])}var Un=le(Vn,[["render",Fn],["__file","tree-node.vue"]]);function qn({el$:n},e){const o=J("tree");ot(()=>{t()}),at(()=>{Array.from(n.value.querySelectorAll("input[type=checkbox]")).forEach(l=>{l.setAttribute("tabindex","-1")})}),It(n,"keydown",s=>{const l=s.target;if(!l.className.includes(o.b("node")))return;const h=s.code,f=Array.from(n.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`)),m=f.indexOf(l);let d;if([Y.up,Y.down].includes(h)){if(s.preventDefault(),h===Y.up){d=m===-1?0:m!==0?m-1:f.length-1;const v=d;for(;!e.value.getNode(f[d].dataset.key).canFocus;){if(d--,d===v){d=-1;break}d<0&&(d=f.length-1)}}else{d=m===-1?0:m<f.length-1?m+1:0;const v=d;for(;!e.value.getNode(f[d].dataset.key).canFocus;){if(d++,d===v){d=-1;break}d>=f.length&&(d=0)}}d!==-1&&f[d].focus()}[Y.left,Y.right].includes(h)&&(s.preventDefault(),l.click());const k=l.querySelector('[type="checkbox"]');[Y.enter,Y.numpadEnter,Y.space].includes(h)&&k&&(s.preventDefault(),k.click())});const t=()=>{var s;if(!n.value)return;const l=Array.from(n.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`));Array.from(n.value.querySelectorAll("input[type=checkbox]")).forEach(m=>{m.setAttribute("tabindex","-1")});const f=n.value.querySelectorAll(`.${o.is("checked")}[role=treeitem]`);if(f.length){f[0].setAttribute("tabindex","0");return}(s=l[0])==null||s.setAttribute("tabindex","0")}}const jn=W({name:"ElTree",components:{ElTreeNode:Un},props:{data:{type:ge(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:ge(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:ge(Function)},allowDrop:{type:ge(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:$t}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,e){const{t:o}=Bt(),a=J("tree"),t=se(Vt,null),s=_(new Mn({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));s.value.initialize();const l=_(s.value.root),h=_(null),f=_(null),m=_(null),{broadcastExpanded:d}=it(n),{dragState:k}=Hn({props:n,ctx:e,el$:f,dropIndicator$:m,store:s});qn({el$:f},s);const v=Q(()=>{const{childNodes:c}=l.value,w=t?t.hasFilteredOptions!==0:!1;return(!c||c.length===0||c.every(({visible:r})=>!r))&&!w});U(()=>n.currentNodeKey,c=>{s.value.setCurrentNodeKey(c??null)}),U(()=>n.defaultCheckedKeys,c=>{s.value.setDefaultCheckedKey(c??[])}),U(()=>n.defaultExpandedKeys,c=>{s.value.setDefaultExpandedKeys(c??[])}),U(()=>n.data,c=>{s.value.setData(c)},{deep:!0}),U(()=>n.checkStrictly,c=>{s.value.checkStrictly=c});const b=c=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(c)},C=c=>He(n.nodeKey,c.data),N=c=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const w=s.value.getNode(c);if(!w)return[];const r=[w.data];let p=w.parent;for(;p&&p!==l.value;)r.push(p.data),p=p.parent;return r.reverse()},u=(c,w)=>s.value.getCheckedNodes(c,w),T=c=>s.value.getCheckedKeys(c),i=()=>{const c=s.value.getCurrentNode();return c?c.data:null},L=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const c=i();return c?c[n.nodeKey]:null},H=(c,w)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");s.value.setCheckedNodes(c,w)},q=(c,w)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");s.value.setCheckedKeys(c,w)},O=(c,w,r)=>{s.value.setChecked(c,w,r)},te=()=>s.value.getHalfCheckedNodes(),ne=()=>s.value.getHalfCheckedKeys(),g=(c,w=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Le(s,e.emit,()=>{d(c),s.value.setUserCurrentNode(c,w)})},E=(c,w=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Le(s,e.emit,()=>{d(),s.value.setCurrentNodeKey(c??null,w)})},A=c=>s.value.getNode(c),V=c=>{s.value.remove(c)},be=(c,w)=>{s.value.append(c,w)},Ee=(c,w)=>{s.value.insertBefore(c,w)},we=(c,w)=>{s.value.insertAfter(c,w)},De=(c,w,r)=>{d(w),e.emit("node-expand",c,w,r)},he=(c,w)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");s.value.updateChildren(c,w)};return ue(Ve,{ctx:e,props:n,store:s,root:l,currentNode:h,instance:dt()}),ue(gn,void 0),{ns:a,store:s,root:l,currentNode:h,dragState:k,el$:f,dropIndicator$:m,isEmpty:v,filter:b,getNodeKey:C,getNodePath:N,getCheckedNodes:u,getCheckedKeys:T,getCurrentNode:i,getCurrentKey:L,setCheckedNodes:H,setCheckedKeys:q,setChecked:O,getHalfCheckedNodes:te,getHalfCheckedKeys:ne,setCurrentNode:g,setCurrentKey:E,t:o,getNode:A,remove:V,append:be,insertBefore:Ee,insertAfter:we,handleNodeExpand:De,updateKeyChildren:he}}});function Wn(n,e,o,a,t,s){const l=X("el-tree-node");return x(),z("div",{ref:"el$",class:P([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(x(!0),z(Re,null,ze(n.root.childNodes,h=>(x(),M(l,{key:n.getNodeKey(h),node:h,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(x(),z("div",{key:0,class:P(n.ns.e("empty-block"))},[ae(n.$slots,"empty",{},()=>{var h;return[I("span",{class:P(n.ns.e("empty-text"))},B((h=n.emptyText)!=null?h:n.t("el.tree.emptyText")),3)]})],2)):R("v-if",!0),Ae(I("div",{ref:"dropIndicator$",class:P(n.ns.e("drop-indicator"))},null,2),[[Oe,n.dragState.showDropIndicator]])],2)}var Yn=le(jn,[["render",Wn],["__file","tree.vue"]]);const Jn=ke(Yn),Gn={class:"perm-box"},Xn={class:"header-actions"},Qn={class:"role-name"},Zn={key:0},eo={class:"description"},to={style:{"font-size":"18px"}},no={style:{"font-weight":"bold","margin-bottom":"2px"}},oo={style:{"font-weight":"bold","margin-top":"10px","margin-bottom":"2px"}},ao={class:"dialog-box"},so={class:"dialog-input"},lo=Object.assign({name:"role"},{__name:"index",setup(n){const{domainList:e}=At(),{t:o,locale:a}=Ot(),t=Lt(),s=tn(),l=_(!1),h=ye([]),f=_([]),m=_({}),d=_(!1),k=_(!1),v=_(!0),b=_(null),C=_(null),N=_(200),u=_(!0),T=ye({title:"",type:""}),i=ye({name:null,description:null,banEmail:[],banEmailType:0,sendType:"count",sendCount:0,accountCount:0,sort:0,isDefault:0,availDomain:[]});let L=[];const H=_(!1);let q={};he(),nn().then(r=>{h.push(...r)}),L=e.map(r=>{const p=r.replace(/^@/,"");return{label:p,value:p}});function O(){const r=i.availDomain.findIndex(p=>!L.map(S=>S.value).includes(p));r>-1&&i.availDomain.splice(r,1)}function te(r){const p=Array.from(new Set(r.split(/[,，]/).map(S=>S.trim()).filter(S=>S)));i.banEmail.splice(i.banEmail.length-1,1),p.forEach(S=>{(cn(S)||un(S))&&!i.banEmail.includes(S)&&i.banEmail.push(S)})}function ne(){T.type==="add"?De():V()}function g(r){an(r.roleId).then(()=>{ie({message:o("saveSuccessMsg"),type:"success",plain:!0}),c()})}function E(r){vn.confirm(o("delConfirm",{msg:r.name}),{confirmButtonText:o("confirm"),cancelButtonText:o("confirm"),type:"warning"}).then(()=>{sn(r.roleId).then(()=>{ie({message:o("copySuccessMsg"),type:"success",plain:!0}),c(),t.refreshUserList(),s.refreshSelect()})})}function A(r){if(r){const p=m.value?.store.nodesMap;for(const S in p)p[S].expanded=!0}else{const p=m.value?.store.nodesMap;for(const S in p)p[S].expanded=!1}}function V(){if(!i.name){ie({message:o("emptyRoleNameMsg"),type:"error",plain:!0});return}const r={...i,roleId:q.roleId},p=m.value.getCheckedKeys(),S=m.value.getHalfCheckedKeys();r.permIds=[...p,...S],d.value=!0,dn(r).then(()=>{ie({message:o("saveSuccessMsg"),type:"success",plain:!0}),f.value.map(fe=>fe.name).includes(r.name)||s.refreshSelect(),l.value=!1,c()}).finally(()=>{d.value=!1})}function be(){i.name=null,i.description=null,i.sort=0,i.sendType="count",i.sendCount=0,i.accountCount=0,i.banEmail=[],i.banEmailType=0,i.availDomain=[],m.value.setCheckedKeys([])}function Ee(r){q=r,T.title=o("changeRoleTitle"),T.type="set",l.value=!0,i.sort=r.sort,i.name=r.name,i.description=r.description,i.sendType=r.sendType,i.sendCount=r.sendCount,i.accountCount=r.accountCount,i.banEmail=r.banEmail,i.banEmailType=r.banEmailType,i.availDomain=r.availDomain,Ne(()=>{m.value.setCheckedKeys(r.permIds)})}function we(){T.title=o("addRoleTitle"),T.type="add",l.value=!0}function De(){const r={...i},p=m.value.getCheckedKeys(),S=m.value.getHalfCheckedKeys();r.permIds=[...p,...S],d.value=!0,ln(r).then(()=>{ie({message:o("addSuccessMsg"),type:"success",plain:!0}),l.value=!1,c(),s.refreshSelect()}).finally(()=>{d.value=!1})}function he(){k.value=!0,f.length=0,c()}function c(){on().then(r=>{f.value=r}).finally(()=>{k.value=!1,setTimeout(()=>{u.value=!1},200)})}function w(){v.value=window.innerWidth>767,b.value=window.innerWidth<480?a.value==="en"?85:75:null,C.value=window.innerWidth<480?75:null,N.value=window.innerWidth<480?180:200}return w(),window.onresize=()=>{w()},(r,p)=>{const S=Xt,Fe=Ht,fe=fn,Ke=en,ut=Zt,ht=Qt,ft=Gt,pt=qt,mt=In,Ue=pn,gt=Jt,qe=Wt,je=jt,pe=Ut,We=Ft,Te=Rt,Ye=Yt,vt=Jn,yt=Pt;return x(),z("div",Gn,[I("div",Xn,[y($(Ie),{class:"icon",icon:"ion:add-outline",width:"23",height:"23",onClick:we}),y($(Ie),{class:"icon",icon:"ion:reload",width:"18",height:"18",onClick:he})]),y(pt,{class:"perm-scrollbar"},{default:K(()=>[I("div",{class:P(["loading",k.value?"loading-show":"loading-hide"]),style:Me(u.value?"background: transparent":"")},[y(rn)],6),y(ft,{data:f.value,style:{height:"100%"},"empty-text":""},{default:K(()=>[y(S,{width:"10"}),y(S,{label:r.$t("role"),prop:"name","min-width":N.value},{default:K(D=>[I("div",Qn,[I("span",null,B(D.row.name),1),D.row.isDefault?(x(),z("span",Zn,[y(Fe,{class:"def-tag"},{default:K(()=>[G(B(r.$t("default")),1)]),_:1})])):R("",!0)])]),_:1},8,["label","min-width"]),y(S,{label:r.$t("order"),width:C.value,prop:"sort"},null,8,["label","width"]),v.value?(x(),M(S,{key:0,label:r.$t("description"),"min-width":"200",prop:"description"},{default:K(D=>[I("div",eo,[I("span",null,B(D.row.description),1)])]),_:1},8,["label"])):R("",!0),y(S,{label:r.$t("tabSetting"),width:b.value},{default:K(D=>[y(ht,{trigger:"click"},{dropdown:K(()=>[y(ut,null,{default:K(()=>[y(Ke,{onClick:de=>Ee(D.row)},{default:K(()=>[G(B(r.$t("change")),1)]),_:2},1032,["onClick"]),y(Ke,{onClick:de=>g(D.row)},{default:K(()=>[G(B(r.$t("default")),1)]),_:2},1032,["onClick"]),y(Ke,{onClick:de=>E(D.row)},{default:K(()=>[G(B(r.$t("delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:K(()=>[y(fe,{size:"small",type:"primary"},{default:K(()=>[G(B(r.$t("action")),1)]),_:1})]),_:2},1024)]),_:1},8,["label","width"])]),_:1},8,["data"])]),_:1}),y(yt,{top:"5vh",class:"dialog",modelValue:l.value,"onUpdate:modelValue":p[12]||(p[12]=D=>l.value=D),onClosed:be},{header:K(()=>[I("span",to,B(T.title),1),y(mt,{width:"340",title:$(o)("featDesc"),placement:"bottom"},{reference:K(()=>[y($(Ie),{class:"warning",icon:"fe:warning",width:"18",height:"18"})]),default:K(()=>[I("div",no,B($(o)("emailInterception")),1),I("div",null,B($(o)("emailInterceptionDesc")),1),I("div",oo,B($(o)("availableDomains")),1),I("div",null,B($(o)("availableDomainsDesc")),1)]),_:1},8,["title"])]),default:K(()=>[I("div",ao,[y(Ue,{class:"dialog-input",modelValue:i.name,"onUpdate:modelValue":p[0]||(p[0]=D=>i.name=D),type:"text",maxlength:12,placeholder:r.$t("roleName"),autocomplete:"off"},null,8,["modelValue","placeholder"]),y(Ue,{class:"dialog-input",modelValue:i.description,"onUpdate:modelValue":p[1]||(p[1]=D=>i.description=D),maxlength:30,type:"text",placeholder:r.$t("description"),autocomplete:"off"},null,8,["modelValue","placeholder"]),y(gt,{class:P(["dialog-input-tag",i.banEmail.length===0?"dialog-input":""]),"tag-type":"warning",modelValue:i.banEmail,"onUpdate:modelValue":p[2]||(p[2]=D=>i.banEmail=D),onAddTag:te,type:"text",placeholder:r.$t("emailInterception"),autocomplete:"off"},null,8,["class","modelValue","placeholder"]),i.banEmail.length>0?(x(),M(je,{key:0,class:"dialog-radio",modelValue:i.banEmailType,"onUpdate:modelValue":p[3]||(p[3]=D=>i.banEmailType=D)},{default:K(()=>[y(qe,{label:r.$t("removeAll"),value:0},null,8,["label"]),y(qe,{label:r.$t("removeContent"),value:1},null,8,["label"])]),_:1},8,["modelValue"])):R("",!0),y(We,{class:"dialog-input",modelValue:i.availDomain,"onUpdate:modelValue":p[4]||(p[4]=D=>i.availDomain=D),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,"tag-type":"success",placeholder:r.$t("availableDomains"),onChange:O},{default:K(()=>[(x(!0),z(Re,null,ze($(L),D=>(x(),M(pe,{key:D.value,label:D.label,value:D.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),I("div",so,[y(Te,{placeholder:r.$t("order"),min:0,max:9999,modelValue:i.sort,"onUpdate:modelValue":p[5]||(p[5]=D=>i.sort=D),modelModifiers:{number:!0},"controls-position":"right",autocomplete:"off"},null,8,["placeholder","modelValue"])]),y(je,{modelValue:H.value,"onUpdate:modelValue":p[6]||(p[6]=D=>H.value=D),size:"small",onChange:A,class:"perm-expand"},{default:K(()=>[y(Ye,{label:r.$t("expand"),value:!0},null,8,["label"]),y(Ye,{label:r.$t("collapse"),value:!1},null,8,["label"])]),_:1},8,["modelValue"]),y(vt,{"expand-on-click-node":!1,"check-on-click-node":!1,ref_key:"tree",ref:m,data:h,"show-checkbox":"","node-key":"permId","default-expand-all":H.value,props:{label:"name"}},{default:K(({node:D,data:de})=>[I("div",null,[I("span",null,B(D.label),1),de.permKey==="email:send"?(x(),z("span",{key:0,class:"send-num",onClick:p[9]||(p[9]=F(()=>{},["stop"]))},[y(Te,{modelValue:i.sendCount,"onUpdate:modelValue":p[7]||(p[7]=re=>i.sendCount=re),"controls-position":"right",min:0,max:99999,size:"small",placeholder:r.$t("total")},null,8,["modelValue","placeholder"]),y(We,{modelValue:i.sendType,"onUpdate:modelValue":p[8]||(p[8]=re=>i.sendType=re),placeholder:"Select",size:"small",style:{width:"65px","margin-left":"5px"}},{default:K(()=>[y(pe,{label:r.$t("total"),value:"count"},null,8,["label"]),y(pe,{label:r.$t("daily"),value:"day"},null,8,["label"]),y(pe,{label:r.$t("btnBan"),value:"ban"},null,8,["label"])]),_:1},8,["modelValue"])])):R("",!0),de.permKey==="account:add"?(x(),z("span",{key:1,class:"send-num",onClick:p[11]||(p[11]=F(()=>{},["stop"]))},[y(Te,{modelValue:i.accountCount,"onUpdate:modelValue":p[10]||(p[10]=re=>i.accountCount=re),"controls-position":"right",min:0,max:99999,size:"small",placeholder:r.$t("total")},null,8,["modelValue","placeholder"])])):R("",!0)])]),_:1},8,["data","default-expand-all"]),y(fe,{class:"btn",type:"primary",loading:d.value,onClick:ne},{default:K(()=>[G(B(r.$t("save")),1)]),_:1},8,["loading"])])]),_:1},8,["modelValue"])])}}}),Po=hn(lo,[["__scopeId","data-v-48b8a081"]]);export{Po as default};
