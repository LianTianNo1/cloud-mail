import{b as L,d as R,_ as O,a as g,u as P,c as m,o as p,y as B,e as V,g as u,bN as U,n as E,aT as T,s as z,v as M,a3 as J,aC as K,P as Y,ae as q,r as N,F as k,a5 as w,N as G,aJ as I,a_ as Q,w as W,l as X,a4 as C,O as Z}from"./index-CrVLGAV5.js";import{t as x}from"./index-xJ5jWlCl.js";import{g as ee}from"./vnode-DMmxwG2F.js";import{g as te}from"./position-CDfJS5hk.js";import{t as H}from"./throttle-DgkiUC1P.js";const ne=L({animated:Boolean,count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:R([Number,Object])}}),se=L({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),ae=g({name:"ElSkeletonItem"}),oe=g({...ae,props:se,setup(e){const t=P("skeleton");return(s,n)=>(p(),m("div",{class:E([u(t).e("item"),u(t).e(s.variant)])},[s.variant==="image"?(p(),B(u(U),{key:0})):V("v-if",!0)],2))}});var b=O(oe,[["__file","skeleton-item.vue"]]);const le=(e,t=0)=>{if(t===0)return e;const s=T(t)&&!!t.initVal,n=z(s);let o=null;const a=l=>{if(Y(l)){n.value=e.value;return}o&&clearTimeout(o),o=setTimeout(()=>{n.value=e.value},l)},r=l=>{l==="leading"?K(t)?a(t):a(t.leading):T(t)?a(t.trailing):n.value=!1};return M(()=>r("leading")),J(()=>e.value,l=>{r(l?"leading":"trailing")}),n},re=g({name:"ElSkeleton"}),ie=g({...re,props:ne,setup(e,{expose:t}){const s=e,n=P("skeleton"),o=le(q(s,"loading"),s.throttle);return t({uiLoading:o}),(a,r)=>u(o)?(p(),m("div",I({key:0,class:[u(n).b(),u(n).is("animated",a.animated)]},a.$attrs),[(p(!0),m(k,null,w(a.count,l=>(p(),m(k,{key:l},[u(o)?N(a.$slots,"template",{key:l},()=>[G(b,{class:E(u(n).is("first")),variant:"p"},null,8,["class"]),(p(!0),m(k,null,w(a.rows,c=>(p(),B(b,{key:c,class:E([u(n).e("paragraph"),u(n).is("last",c===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):V("v-if",!0)],64))),128))],16)):N(a.$slots,"default",Q(I({key:1},a.$attrs)))}});var ce=O(ie,[["__file","skeleton.vue"]]);const Ee=W(ce,{SkeletonItem:b}),Se=X(b),i="ElInfiniteScroll",ue=50,de=200,fe=0,pe={delay:{type:Number,default:de},distance:{type:Number,default:fe},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},_=(e,t)=>Object.entries(pe).reduce((s,[n,o])=>{var a,r;const{type:l,default:c}=o,f=e.getAttribute(`infinite-scroll-${n}`);let d=(r=(a=t[f])!=null?a:f)!=null?r:c;return d=d==="false"?!1:d,d=l(d),s[n]=Number.isNaN(d)?c:d,s},{}),$=e=>{const{observer:t}=e[i];t&&(t.disconnect(),delete e[i].observer)},me=(e,t)=>{const{container:s,containerEl:n,instance:o,observer:a,lastScrollTop:r}=e[i],{disabled:l,distance:c}=_(e,o),{clientHeight:f,scrollHeight:d,scrollTop:v}=n,A=v-r;if(e[i].lastScrollTop=v,a||l||A<0)return;let h=!1;if(s===e)h=d-(f+v)<=c;else{const{clientTop:F,scrollHeight:D}=e,j=te(e,n);h=v+f>=j+F+D-c}h&&t.call(o)};function y(e,t){const{containerEl:s,instance:n}=e[i],{disabled:o}=_(e,n);o||s.clientHeight===0||(s.scrollHeight<=s.clientHeight?t.call(n):$(e))}const ve={async mounted(e,t){const{instance:s,value:n}=t;Z(n)||x(i,"'v-infinite-scroll' binding value must be a function"),await C();const{delay:o,immediate:a}=_(e,s),r=ee(e,!0),l=r===window?document.documentElement:r,c=H(me.bind(null,e,n),o);if(r){if(e[i]={instance:s,container:r,containerEl:l,delay:o,cb:n,onScroll:c,lastScrollTop:l.scrollTop},a){const f=new MutationObserver(H(y.bind(null,e,n),ue));e[i].observer=f,f.observe(e,{childList:!0,subtree:!0}),y(e,n)}r.addEventListener("scroll",c)}},unmounted(e){if(!e[i])return;const{container:t,onScroll:s}=e[i];t?.removeEventListener("scroll",s),$(e)},async updated(e){if(!e[i])await C();else{const{containerEl:t,cb:s,observer:n}=e[i];t.clientHeight&&n&&y(e,s)}}},S=ve;S.install=e=>{e.directive("InfiniteScroll",S)};const _e=S;function Te(e){return new Promise(t=>setTimeout(t,e))}export{Ee as E,Se as a,_e as b,Te as s};
